knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
rm(list=ls())
#install packages
#only run once
#run every session
library(tidyverse)
library(dplyr)
library(ggplot2)
per_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/per_pub.csv")
trip_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/trip_pub.csv")
hh_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/hh_pub_CSV.csv", col_names = TRUE)
head(per_dat)
head(trip_dat)
head(hh_dat)
#install packages
#only run once
#run every session
library(tidyverse)
library(dplyr)
library(ggplot2)
per_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/per_pub.csv")
trip_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/trip_pub.csv")
hh_dat <- read_csv("https://raw.githubusercontent.com/c-townsley/pbn_a3_repo/main/Data/HH%20Travel%20Survey/hh_pub_CSV.csv", col_names = TRUE)
head(per_dat)
head(trip_dat)
head(hh_dat)
# Develop a dataset with all relevant variables
#every respondents first work trip mode, travel time,
#the respondent's income, age, gender
#attributes of the mode and attribute of the decision maker
# Want to look at the person_dat, but also want to include income, which is in the HH table.
# matching the datasets on HH ID number, which is the variable "SAMPN"
per_hh_dat <- merge(per_dat, hh_dat,
by.x = "SAMPN", #per_dat is the x
by.y = "SAMPN", #hh_dat is the y
all.x = TRUE,   #taking every row of X and finding the matching Y
all.y = FALSE,  #Exclude rows in hh_dat that don't have a matching value in per_dat
sort = FALSE)
dim(per_hh_dat)
head(per_hh_dat)
# Develop a dataset with all relevant variables
#every respondents first work trip mode, travel time,
#the respondent's income, age, gender
#attributes of the mode and attribute of the decision maker
# Want to look at the person_dat, but also want to include income, which is in the HH table.
# matching the datasets on HH ID number, which is the variable "SAMPN"
per_hh_dat <- merge(per_dat, hh_dat,
by.x = "SAMPN", #per_dat is the x
by.y = "SAMPN", #hh_dat is the y
all.x = TRUE,   #taking every row of X and finding the matching Y
all.y = FALSE,  #Exclude rows in hh_dat that don't have a matching value in per_dat
sort = FALSE)
head(per_hh_dat)
